<div class="breadcrumb-header justify-content-between">
  <div class="left-content">
    <div>
      <h1 class="main-content-title mg-b-1 mg-b-lg-1">LINKS DE SUSCRIPCIONES</h1>
      <p class="mg-b-0">Listado de links de Suscripciones </p>
    </div>
  </div>
  <div class="main-dashboard-header-right">
    <div *ngIf="validate_active">
      <button
        [routerLink]="['/link-sub-create']"
        class="btn btn-success-dyner btn-block"
      >
        Crear link de Suscripción
        <img
          src="./assets/img/svgicons/links-icon.svg"
          class="img-cards-icons-button"
          alt="logo"
        />
      </button>
    </div>
  </div>
</div>

<div class="row row-sm">
  <div class="col-xl-12">
    <div class="card">
      <div class="card-header pb-0">
        <div>
          <h2 class="main-content-title tx-14 mg-b-1 mg-b-lg-1 mb-2 mt-2">
            LISTA DE LINKS DE SUSCRIPCIONES
          </h2>
          <p class="mg-b-0 tx-14">Selecciona uno de tus links de Suscripción</p>
        </div>
      </div>
      <div class="card-body">
        <div class="table-responsive">
          <mat-form-field appearance="standard">
            <mat-label>Buscar</mat-label>
            <input
              matInput
              (keyup)="applyFilter($event)"
              placeholder=""
              #input
            />
          </mat-form-field>

          <div class="mat-elevation-z8">
            <table
            mat-table
            [dataSource]="dataSource"
            matSort
            class="table-striped"
          >
              <!-- ID Column -->

              <ng-container matColumnDef="product_code">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                  Código
                </th>
                <td mat-cell *matCellDef="let row">{{ row.product_code }}</td>
              </ng-container>
              <ng-container matColumnDef="referencia">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                  Referencia de Pago
                </th>
                <td mat-cell *matCellDef="let row"></td>
              </ng-container>
              <ng-container matColumnDef="description">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                  Descripción
                </th>
                <td mat-cell *matCellDef="let row">{{row.description}}</td>
              </ng-container>
              <ng-container matColumnDef="payment_day">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                  Dia de pago
                </th>
                <td mat-cell *matCellDef="let row">{{ row.payment_day}}</td>
              </ng-container>
              <ng-container matColumnDef="created_at">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                  Fecha de creación
                </th>
                <td mat-cell *matCellDef="let row">{{ row.created_at}}</td>
              </ng-container>
              <ng-container matColumnDef="subtotal">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                  Subtotal
                </th>
                 <td mat-cell *matCellDef="let row">
                  {{ row.subtotal | currency : "USD" : "symbol" : "1.0-0" }}
                </td>

              </ng-container>
              <ng-container matColumnDef="total">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Total</th>
                <td mat-cell *matCellDef="let row">
                  {{ row.total | currency : "USD" : "symbol" : "1.0-0" }}
                </td>
              </ng-container>
              <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                  Estado
                </th>
                <td mat-cell *matCellDef="let row">
                  {{ getStatusLabel(row.status) }}
                </td>
              </ng-container>
              <ng-container matColumnDef="action">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                  Acciones
                </th>
                <td mat-cell *matCellDef="let row">
                  <div class="flex-container">
                    <div class="flex-item">
                      <a
                        [routerLink]="['/link-sub-edit', row.id]"
                        class="btn btn-sm btn-secondary btn-icon"
                        ngbTooltip="Detalle"
                      >
                        <i class="fas fa-pencil-alt"></i>
                      </a>
                    </div>
                    <div class="flex-item margin-button-action">
                      <a
                        [routerLink]="['/link-sub-detail', row.id]"
                        class="btn btn-sm btn-secondary btn-icon"
                        ngbTooltip="Detalle"
                      >
                        <i class="fas fa-eye"></i>
                      </a>
                    </div>
                    <div class="flex-item margin-button-action">
                      <a
                        class="btn btn-sm btn-secondary btn-icon text-white"
                        ngbTooltip="Detalle"
                        (click)="confirmDeleteLinkSubs(row.id)"
                      >
                        <i class="fas fa-trash"></i>
                      </a>
                    </div>
                  </div></td
              ></ng-container>

              <tr mat-header-row *matHeaderRowDef="displayedColumnsSub"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumnsSub"></tr>

               <!-- Row shown when there is no matching data. -->
               <tr class="mat-row" *matNoDataRow>
                <td class="mat-cell" colspan="4">
                </td>
              </tr>
            </table>

            <mat-paginator
              [pageSizeOptions]="[10, 10, 25, 100]"
              aria-label="Select page of users"
            >
            </mat-paginator>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
